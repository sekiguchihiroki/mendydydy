@startuml

Main --|> ユーザーインタフェース層
ユーザーインタフェース層 --|> アプリケーション層
アプリケーション層 --|> レポジトリー層
アプリケーション層 --|> ドメイン層

class Main {
  void 勤怠管理(String[] args)
  boolean is勤怠入力(){return args[0].equals("input")}
  boolean is集計(){return args[0].equals("total")}
}

package ユーザーインタフェース層 <<Folder>> {
 勤怠入力API -->  勤怠入力リクエスト
 勤怠入力リクエスト -->  Form

class 勤怠入力API {
  -private 勤怠入力リクエスト
  -private 勤怠入力サービス
  void 勤怠入力(勤務日付,開始時刻,終了時刻)
 }
class 勤怠入力リクエスト {
  -private 勤務日付Form
  -private 開始時刻Form
  -private 終了時刻Form
  +boolean isYyyyMMddFormat()
  +boolean isYyyyMMddHHmmFormat()
  +boolean isEmpty()
 }
 class 勤怠集計API {
   -private 勤怠集計サービス
   List 勤怠集計()
  }

package Form <<Folder>> {

class 勤務日付Form {
  -private String input
  勤務日付 getValueObject(return new DateParser.parse_yyyyMMdd())
 }
 class 開始時刻Form {
   -private String input
   開始時刻 getValueObject(return new DateParser.parse_yyyyMMddHHmm())
  }
 class 終了時刻Form {
   -private String input
   終了時刻 getValueObject(return new DateParser.parse_yyyyMMddHHmm())
  }
}
}


package アプリケーション層 <<Folder>> {
class 勤怠入力サービス {
  -勤怠レポジトリー
  勤怠入力 create(勤務日付,開始時刻,終了時刻){ return new 勤怠入力(勤務日付,開始時刻,終了時刻)}
  void 勤怠入力(勤務日付,開始時刻,終了時刻){ 勤怠レポジトリー.登録(勤怠入力)}

 }
class 勤怠集計サービス {
  -private 勤怠集計レポジトリー
  List 勤怠集計(){ List<勤怠入力> 勤怠入力リスト = 勤怠集計レポジトリー.１ヶ月分集計(); return 勤怠入力リスト.勤怠集計して()}

 }

}

package ドメイン層 <<Folder>> {
勤怠入力 *-- 勤務日付
勤怠入力 *-- 開始時刻
勤怠入力 *-- 終了時刻
勤怠リスト --|> 勤務時間
勤怠リスト --|> 残業時間

class 勤怠入力 {
  -勤怠入力
  -開始時刻
  -終了時刻

}
class 勤怠リスト {
  -List<勤怠入力>
  +勤怠集計結果 勤怠集計して(List<勤怠入力>)
  +List<勤怠入力> 遅刻即クビフィルター(this.List<勤怠入力>)
  +勤務時間 一ヶ月分勤務時間集計(List<勤怠入力>)
  +残業時間 一ヶ月分残業時間集計(List<勤怠入力>)


}
class 勤務日付 {
  -dateTime
 }

class 開始時刻 {
  -dateTime
 }

class 終了時刻 {
  -dateTime
 }

class 勤務時間{
  -dateTime
  勤務時間 一ヶ月分勤務時間集計(List<勤怠入力>)
 }
class 残業時間{
  -dateTime
  残業時間 一ヶ月分残業時間集計(List<勤怠入力>)
 }
}

package レポジトリー層 <<Folder>> {
interface 勤怠レポジトリー
勤怠レポジトリー : void 登録(勤怠入力)
勤怠レポジトリー : List １ヶ月分集計()

}

@enduml